***
이 가이드가 1.4로 업데이트되었습니다. 이 위키 페이지의 이전 1.3 버전을 보려면 [여기](https://github.com/tModLoader/tModLoader/wiki/Basic-tModLoader-Modding-Guide/9c8ec569fb957e9ad34edb565e653a805811b5a6)를 클릭하세요.
***

가장 먼저 해야 할 일은 코딩에 사용할 프로그램을 결정하는 것입니다. 기본적으로 **텍스트 편집기** 또는 **IDE** 두 가지를 선택할 수 있습니다. binary logic과 design 개념을 완전히 처음 접하는 경우, 텍스트 편집기로 시작하여 기본 사항을 익히고 IDE의 인터페이스와 도구에 부담을 느끼지 않고 간단한 코드로 작업할 수도 있습니다. 그 외 대부분의 경우에는 **통합 개발 환경(Integrated Development Environment, IDE)**을 사용하는 것이 좋습니다. IDE는 특정 프로그래밍 언어(저희의 경우 C#)를 위한 편리한 인터페이스를 설정하는 소프트웨어입니다. 텍스트 편집기는 IDE의 구성 요소일 뿐이므로 텍스트 편집기가 할 수 있는 모든 작업을 IDE에서 수행할 수 있습니다.

이 가이드는 여러분의 첫 번째 모드를 만드는 데 도움이 될 것입니다. [기본 가이드 필요 요소 문서](Basic-Prerequisites-kokr)를 읽고 따라주세요. 

# 첫 번째 모드 만들기
먼저 아주 간단한 모드를 만들어서 tModLoader용 모드를 만드는 방법에 익숙해지도록 하겠습니다. 

## 모드 골조 생성하기
먼저 tModLoader를 사용하여 기본 모드 골조를 생성하겠습니다. tModLoader를 열고 "Workshop" 메뉴를 연 다음 "Develop mods" 메뉴를 열고 "Create Mod" 버튼을 클릭합니다. 이제 입력 상자를 채웁니다. 저는 각각 'TutorialMod', 'Tutorial Mod', 'NewbieModder', 'TutorialSword'를 제안합니다. 마지막으로 "Create" 버튼을 클릭합니다. 메시지가 나타나면 문제를 해결하고, 그렇지 않으면 모드 소스 메뉴로 돌아갑니다.

![](https://i.imgur.com/QAo0dsd.png)    

## 모드 골조의 내용
"Develop Mods" 메뉴에서 "Open Sources" 버튼을 클릭하여 `ModSources` 폴더를 엽니다. 파일 브라우저에서 'Documents\My Games\Terraria\tModLoader\ModSources'로 이동하여 `ModSources` 폴더를 열 수도 있습니다. 다음으로 만들어진 모드의 폴더를 열어 봅시다. 가이드를 따르는 경우 'TutorialMod'라는 이름의 폴더를 열었을 것입니다. 이 폴더에는 만들어진 모드와 관련된 모든 코드가 들어 있습니다. 현재 모드 골조 생성기에 의해 8 개의 기본 파일이 추가되어 있어야합니다. 다음은 각 파일에 대한 설명입니다:    
1. **[ModName].cs** - `Mod` 클래스입니다. 모든 모드의 중심 파일입니다. 모든 모드에는 하나의 `Mod` 클래스만 존재할 수 있습니다. 간단한 모드의 경우 이 파일은 대부분 비어 있겠지만 이 클래스에서는 다양한 전역적인 일이 발생할 수 있습니다.     
2. **description.txt** - 모드에 대한 설명을 위한 텍스트가 포함되어 있습니다. 게임에서 보려면 모드 메뉴에서 'More Info' 버튼을 클릭하세요.    
3. **build.txt** - 모드의 버전, 작성자 및 외부모드명을 포함합니다. 다른 [values](https://github.com/tModLoader/tModLoader/wiki/build.txt)을 포함할 수 있습니다. 필수입니다.  
4. icon.png - 게임 내에서 표시될 80x80 크기의 아이콘입니다. Steam 창작마당 웹사이트에 더 상세하거나 더 높은 해상도의 icon_workshop.png 버전의 아이콘을 생성할 수 있습니다. 해당 파일은 최대 512x512까지 가능합니다.
4. **[ModName].csproj** - 모드 디버깅을 위해 설정된 Visual Studio용 프로젝트 파일입니다. 디버깅은 매우 유용하지만 약간의 학습이 필요합니다. 삭제하지 마세요.
5. **Properties/launchSettings.json** - '[ModName].csproj'와 관련된 파일로, 디버깅을 위한 tModLoader 파일 경로가 포함되어 있습니다. 나중에 경험이 쌓이면 필요해질 것이므로 제거하지 마세요.  
6. **Items/[ItemName].cs** - 간단한 소드 아이템입니다. 학습하면서 다른 모드아이템 클래스를 만들 때 예제로 활용하세요.  
7. **Items/[ItemName].png** - 대응되는 스프라이트.  

![](https://i.imgur.com/uuHtH71.png)    

## 모드 빌드 방법 알아보기
이제 모드를 빌드할 준비가 되었습니다. tModLoader를 시작하고 "Workshop" 메뉴를 연 다음 "Develop Mods" 메뉴를 엽니다. 방금 만든 모드의 항목이 표시됩니다. 이제 "Build + Reload" 버튼을 클릭합니다. 오류가 발생하지 않았다면 여러분의 모드가 모드 메뉴에 나타날 것입니다!

![](http://i.imgur.com/jbCpSYc.png)

이제 게임으로 이동하여 작업대를 만들고 10 개의 흙 블록을 채굴하면 새로운 검을 제작할 수 있습니다!

![](http://i.imgur.com/UQb3tXq.png)

와우! 놀랍네요. 하지만 50 대미지로는 충분하지 않습니다. 이제 첫 번째 실제 프로그래밍을 해보겠습니다. Notepad++에서 `ModSources\[ModName]\Items\TutorialSword.cs` 파일을 엽니다. `Item.damage = 50;` 줄을 찾아 50을 100으로 변경합니다. 또한 이때 재미 삼아 `Tooltip.SetDefault("This is a modded sword.");`코드를 변경해 보겠습니다. 기본 가이드 필요 조건에서 배운 문법을 엉망으로 사용하지 않도록 주의하세요. 이제 파일을 저장하세요! 다음으로 게임에 들어가서 다시 한 번 모드를 빌드하고 리로딩하여 검을 다시 획득하세요. 새로운 대미지와 새로운 툴팁이 보일 것입니다.

마지막으로, 빌드한 모드는 `[ModName]`이라는 `.tmod` 파일에 패키지되어 저장되며, `tModLoader\Mods`에서 찾을 수 있습니다. 친구에게 모드를 플레이하게 하고 싶지만 아직 게시하고 싶지 않다면 이 파일을 친구에게 보내 같은 폴더에 저장하도록 할 수 있습니다. (또는 창작마당에 게시하고 "친구 전용"으로 설정하여 다소 비공개로 유지할 수 있습니다).

## 조금 더 실험하기

이제 다른 항목 값 중 일부를 변경하여 조금 더 실험해 볼 수 있습니다. 변경 사항을 저장하고 빌드한 후 다시 로드해야 게임에서 변경 사항을 확인할 수 있다는 점을 기억하세요.

## 다음 단계

이제 간단한 검으로 간단한 모드를 만들었으니, 이제 다른 기술을 배워볼 차례입니다. 천천히 배우고 싶은 것을 실험해 보세요. 포럼이나 [디스코드](https://discord.gg/tmodloader)에서 다른 모더의 도움을 구하는 경우, 질문은 바닐라에 관한 것으로 표현하는 것이 가장 좋습니다. 예를 들어, Molten Fury가 어떻게 Wooden Arrow를 Flaming Arrow로 바꾸는지 궁금하다면, "How does the Molten Fury change the projectile it shoots only when Wooden Arrows are used as ammo?"라고 질문하는 것이 좋습니다. 이런 식으로 질문하는 것이 가장 효과적입니다.

계속 읽으면서 tModLoader에 대한 자세한 내용과 개선 방법을 알아보세요.

# 어떤 파일에서 내 모드의 다른 파일을 참조하려면 어떻게 해야 하나요?

모드 제작자가 가장 먼저 하는 일 중 하나는 커스텀 무기로 커스텀 투사체를 쏘거나 모드의 클래스가 다른 클래스를 참조해야 하는 기타 유사한 동작을 수행하는 것입니다. 이를 위해 `ModContent.SomethingType` 메서드를 사용하는데, 여기서 "Something"은 "Item", "Projectile", "NPC" 등으로 대체될 수 있습니다. 예를 들어, `ModItem`이 특정 `ModProjectile`을 쏘도록 하려면 `ModItem.SetDefaults` 메서드에 `Item.shoot = ModContent.ProjectileType<MyProjectileClassName>();`을 작성하면 됩니다. 반대로 바닐라 투사체를 발사하려면 `Item.shoot = ProjectileID.WoodenArrowFriendly;` 또는 이와 비슷한 식으로 작성하면 됩니다.

# tModLoader 'hooks'는 어떻게 작동하나요?

첫째, 엄밀히 말해 훅은 훅이 아닙니다. 그냥 쉽기 때문에 훅이라고 부르는 것입니다. '훅(hook)'은 모더가 사용할 수 있는 함수입니다. 어떤 훅을 사용할 수 있는지는 작업 중인 클래스에 따라 다릅니다. 예를 들어 모드(Mod) 클래스에는 모드 클래스 전용 함수인 **[Load Hook](http://tmodloader.github.io/tModLoader/docs/1.4-stable/class_terraria_1_1_mod_loader_1_1_mod.html#afbcbdc176a60f3da809842f683ff2e75)**이 있습니다. 이러한 함수는 모두 'virtual'이며, 이는 함수가 기본적인 구현을 가지고 있지만 원하는 경우 모더가 재정의할 수 있음을 의미합니다. 즉, 훅을 사용하고 싶을 때 훅을 _덮어씌운다_는 의미이며, 이것이 바로 `virtual`이라는 단어가 `override`로 대체되는 이유입니다. _virtual_ (부분적인)구현이 오버라이딩되므로 해당 구현은 손실됩니다. 훅의 표준 구현을 보려면 **[소스 문서](http://tmodloader.github.io/tModLoader/docs/1.4-stable/annotated.html)**를 참조하세요.

훅은 기본적으로 모드가 코드를 실행할 수 있는 기회입니다. 각 훅은 게임의 업데이트 루프에서 적절한 시점에 "호출(Called)"됩니다. 예를 들어 ModItem.Shoot라는 훅이 있는데, 이 훅은 게임에서 무기 아이템이 발사체를 발사해야 한다고 결정할 때마다 호출됩니다. 모더는 코드를 작성하여 "훅"을 "오버라이드"하면 무기 아이템이 발사체를 발사할 때 해당 코드가 실행됩니다.

## 훅 사용 예제
휴대폰 아이템의 작동 방식과 유사하게 아이템이 인벤토리에 있는 동안 무언가를 하고 싶다고 가정해 봅시다. 먼저 소스 문서를 열고 [ModItem 문서](http://tmodloader.github.io/tModLoader/docs/1.4-stable/class_terraria_1_1_mod_loader_1_1_mod_item.html)를 검색합니다. 이 페이지를 찾았으면 `ctrl-f`를 사용하여 원하는 항목과 관련된 페이지를 검색합니다. 이 경우 'inventory'를 검색하고 결과를 읽으면 'UpdateInventory' 메서드를 찾을 수 있습니다. 문서에 따르면 이 "훅"을 사용하면 이 아이템이 인벤토리에 있을 때 우리가 원하는 작업을 수행할 수 있습니다. 이 훅을 사용하려면 method signature를 ModItem 클래스에 복사합니다.    
```cs
virtual void Terraria.ModLoader.ModItem.UpdateInventory (Player player)	
```
상기된 내용을 기억하신다면, 우리는 "virtual"을 "override"로 변경해야 합니다. 또한 메서드 이름을 줄이는 것도 잊지 말아야 합니다. 이 코드는 ModItem 클래스에 있으므로 "Terraria.ModLoader.ModItem."을 제거할 수 있습니다. 마지막으로, 이 `Player` 클래스가 무엇인지 컴퓨터에 알려줘야 합니다. .cs 파일 상단에 `using Terraria;`를 추가하면 됩니다. 열고 닫는 중괄호를 추가하면 마침내 코드를 작성할 훅이 준비됩니다:    
```cs
override void UpdateInventory (Player player)
{
    // 여기에 코드를 작성합니다.
}
```
[Visual Studio](Why-Use-an-IDE-kokr#override)를 사용하면 훅을 오버라이드하는 과정을 크게 단순화할 수 있습니다.    
이제 ModItem 클래스에 훅이 생겼으니 그 안에 코드를 추가할 수 있습니다. 우리가 작성하는 코드는 우리가 달성하고자 하는 효과에 따라 달라집니다. ExampleMod와 [고급 바닐라 코드 적용](Advanced-Vanilla-Code-Adaption-kokr) 가이드는 실험할 유사한 코드 조각을 찾는 데 도움이 될 수 있습니다.

# 인덱스와 타입
정수에 해당하는 두 가지 큰 개념이 있습니다. 정수의 이 두 가지 용도는 신규 모더들이 실수로 혼동하여 컴파일은 되지만 버그가 있는 코드를 만들 수 있습니다. 

테라리아에서 모든 콘텐츠에는 'Type'이라는 고유 식별자가 있습니다. 이는 게임에서 각기 다른 콘텐츠들을 고유하게 식별할 수 있는 정수입니다. 예를 들어, `Shuriken` 투사체의 타입은 숫자 `3`입니다. 투사체 'Type'을 사용하여 해당 유형의 투사체에만 영향을 주는 코드를 실행할 수 있습니다. 예를 들어, `GlobalProjectile.OnHitNPC` 훅을 사용하면 `if(projectile.type == ProjectileID.Shuriken)`를 확인한 다음 NPC에 디버프를 적용하는 등 수리검 관련 코드를 실행할 수 있습니다. 테라리아의 Item, NPC, Projectile, Dust 등 다양한 콘텐츠는 모두 `Type` 식별자를 사용하여 다양한 종류의 콘텐츠를 식별할 수 있습니다.

두 번째 개념은 `Index`입니다. 테라리아에서는 다양한 배열을 사용하여 월드의 모든 활성 콘텐츠를 저장합니다. 예를 들어, `Main.projectile[]` 배열은 현재 게임 월드에 있는 모든 투사체의 인스턴스를 모두 저장합니다. 각 `Projectile`은 해당 배열 내에서 `whoAmI` 필드를 통해 자신의 인덱스를 알 수 있습니다.

`타입`과 `인덱스`는 모두 정수이기 때문에 신규 모더가 둘 중 하나를 잘못 사용하면 큰 실수를 할 수 있습니다. 예를 들어, `Projectile projectile = Main.projectile[ProjectileID.Shuriken]`이 활성화된 수리검 발사체를 검색할 것이라고 생각하지만, 그렇지 않고 해당 인덱스에 있는 투사체라면 뭐든 반환할 수 있습니다. 모더는 다양한 가이드와 예제를 통해 'Type'과 'Index'의 올바른 사용법을 알게 될 것입니다. 

이 다이어그램은 이 점을 설명하기 위해 `Type`과 `Index`가 별개의 개념임을 보여주면서 배열에 저장되는 방법을 보여줍니다:     
![ProjectileArrayExplaination](https://user-images.githubusercontent.com/4522492/184989136-c83e4bcf-18a1-4cb5-b798-60b190be5591.png)    


# 모드 클래스는 어떻게 설정하나요?

tModLoader는 자신만의 모드 콘텐츠를 만드는 데 사용할 수 있는 여러 클래스를 제공합니다. 'class derivation' 또는 'class inheritance'이라고 하는 것을 사용하여 이러한 클래스를 기반으로 자신만의 클래스를 만들 수 있습니다. 간단히 설명하자면, 여러분의 클래스가 저희의 클래스 중 하나를 기반으로 사용한다는 뜻입니다. 예를 들어, 여러분의 아이템은 ModItem을 기반으로 할 것입니다: `MyItemClass : ModItem`, 여기서 `: ModItem`은 Terraria.ModLoader 네임스페이스에 있는 ModItem 클래스를 상속받았음을 나타냅니다. (Java에서 온 경우 `extends ModItem`과 동일합니다.) 즉, [SetDefaults](http://tmodloader.github.io/tModLoader/docs/1.4-stable/class_terraria_1_1_mod_loader_1_1_mod_item.html#a6d9fbbb1dec7e25959a345a9e4f78428) 훅과 같이 ModItem을 위해 만든 모든 것을 여러분의 클래스에서 사용할 수 있게 됩니다. 하나의 클래스에서만 파생될 수 있으므로 ModItem은 ModProjectile 등이 될 수 없다는 점에 유의하세요. 

# 예제 모드(Example Mod)에서 배우기

예제 모드는 다양한 모딩 기능을 보여주기 위해 tModLoader 개발자가 만든 모드입니다. 예제 모드를 활성화하고 잠시 동안 사용해 보는 것이 좋습니다. [Cheat Sheet](https://steamcommunity.com/sharedfiles/filedetails/?id=2563784437)와 같은 모드를 사용하여 다양한 아이템을 생성하고 배우고 싶은 기능을 찾아보세요. 다음으로 예제 모드 소스 코드를 다운로드합니다. [1.4-stable.zip](https://github.com/tModLoader/tModLoader/archive/refs/heads/1.4-stable.zip)을 다운로드한 다음 그 안에 있는 예제 모드 폴더를 찾습니다. 해당 폴더를 열고 ModSources 폴더 내의 TutorialMod 옆에 배치합니다.

관심있는 것을 찾아서 이해하려고 노력하십시오. 이해하기 쉬웠기를 바랍니다. 예제 모드에서 무언가를 변경하고 게임에서 예제 모드를 빌드 할 수도 있습니다.

예제 모드 또는 튜토리얼 모드에서 간단한 것들을 쉽게 수정할 수 있다면 모드 빌드 프로세스에 익숙해졌을 겁니다. 다음 단계를 위해 다른 가이드나 도움말을 자유롭게 살펴보세요.

## 단계별 학습

모딩이 처음이라면 프로그래밍 자체와 C# 언어도 처음일 가능성이 높습니다. 쉬운 것부터 시작하여 난이도를 높여가는 것이 좋습니다. 가장 쉬운 것 중 하나는 위와 같이 검을 휘둘러 피해를 입힐 수 있는 검을 만드는 것이고, 가장 어려운 것은 완전한 보스전을 만드는 것입니다. 다음은 시작하기 위한 몇 가지 제안입니다:
* 먼저, tModLoader의 작동 방식을 숙지하세요. 'tModLoader 'hooks'는 어떻게 작동하나요?' 섹션을 읽어보세요.
* 다음으로, 튜토리얼 검을 수정하여 더 많은 데미지, 더 많은 넉백, 더 빠른 속도 등을 적용해보세요. 'Item.shoot'를 설정하여 투사체를 쏘게 하고, 'Item.shootSpeed'로 속도를 제어할 수도 있습니다.
* 모딩은 프로그래밍이며 C#이며 바닐라 코드에 익숙하다는 것을 이해해야 합니다. 즉, 무료 온라인 강좌를 통해 C# 언어 또는 프로그래밍 자체를 더 잘 이해해야 합니다. 유용한 리소스로는 [빠른 테라리아 전용 C# 크래시 코스](https://docs.google.com/document/d/1xRz3kFNbewb8DI29AKXuyi6O327IcxlgihZ7sdK_IuE/edit?usp=sharing)가 있습니다. 바닐라 코드에 더 익숙해지려면 [고급 바닐라 코드 적용](Advanced-Vanilla-Code-Adaption-kokr) 가이드를 이용하세요.
* 자신감이 생기면 직접 발사체를 만들어 검과 상호작용해 보세요.
* 더 자신감이 생기면 적 NPC를 만드는 등 다양한 시도를 할 수 있습니다.

**대부분의 모더들이 어렵게 여길 수 있는 몇 가지가 있으니, 이런 것들을 시도하기 전에 쉬운 것부터 시작하는 것이 좋습니다.
* 완전한 보스
* 포괄적인 UI
* 코드 추상화
* 엔티티에 대한 모딩 정보 및 상호 작용
* 투사체, NPC, 애완동물 등을 위한 완전히 커스터마이징된 AI... 등

## 천천히 배우기

더 나은 모더가 되기 위해 사용할 수 있는 많은 리소스가 있습니다. 우선, 이 위키입니다. 이 페이지의 오른쪽에 있는 위키 메뉴에는 여러분이 사용할 수 있는 다양한 튜토리얼과 가이드에 대한 링크가 있습니다. 이 모든 튜토리얼은 가장 쉬운 기본부터 가장 어려운 전문가까지 난이도에 따라 구분되어 있습니다. 또 다른 정보 출처는 [TCF의 모딩 섹션](https://forums.terraria.org/index.php?forums/general-mod-discussion.121/)입니다. 많은 모더들이 [티모드로더 디스코드](https://discord.gg/tmodloader)에서 서로 협력하고 질문하고 있으니, 어려운 점이 있거나 궁금한 점이 있으신 분들은 꼭 방문해 주세요! 마지막으로, 이 위키의 [홈페이지](Home)에서 다양한 유용한 도구와 가이드를 확인할 수 있습니다.

## 모딩 팁 및 가이드라인
### 이름 지정 규칙(Naming convention)
내부 이름은 공백을 지원하지 않으므로, 'My Super Sword'는 공백 없이 이름을 지어야 합니다. 보통 공백을 생략한 `MySuperSword`를 많이 사용하지만, `My_Super_Sword`도 가끔 볼 수 있습니다. 전자를 '파스칼 케이스(pascal case)'라고 하고 후자를 '스네이크 케이스(snake case)'라고 합니다. 짧고 설명적인 이름을 사용하는 것을 잊지 마세요. 검을 만드는 경우라면 이름에 'Sword'을 사용해야 할 가능성이 높습니다. 작명 규칙은 주로 누구와 함께/누구를 위해 일하는지(고용된 경우 등)에 따라 다르며, 혼자서 작업하는 경우 개인 취향에 따라 달라질 수 있습니다. 참고로 '카멜 케이스(camel case)'는 '파스칼 케이스'와 비슷하지만, 카멜 케이스의 경우 첫 글자는 소문자 또는 대문자이고 뒤이어 연결되는 단어(예: backColor, timeUtc)는 대문자라는 것을 알 수 있습니다. 

### 코드를 깔끔하고 체계적으로 유지하기
이것은 고급 주제(디자인 패턴의 일부로 나중에 전문가 튜토리얼에서 다룰 수 있음)이지만 코드를 적절하게 추상화하는 것이 유용합니다. 이에 대한 자세한 내용은 코드 추상화 가이드에서 확인하세요. 초보자를 위해 이 팁을 참고하세요. 프로그래밍을 완료한 후에는 코드를 살펴보고 모든 곳에서 무슨 일이 일어나고 있는지 스스로에게 물어보세요. 이제 코드가 깔끔한지 물어봐야 합니다. 코드에서 반복되는 부분을 찾아서 전용 메서드를 지정하세요. 다음으로, 코드의 일부를 로직에 따라 구분하고 고유한 메서드를 부여하여 해당 코드 부분이 무엇을 하는지 쉽게 식별할 수 있도록 유용한 설명 이름(이전 팁 참조)을 제공하세요. 다음은 코드 추상화의 일부에 대한 간략한 요약입니다.

### 코드에 주석 달기
코드가 어떤 작업을 하는지 항상 명확하지 않거나 코드를 사용하는 자신이나 다른 모더를 위해 메모를 남기고 싶을 때가 있습니다. 다음과 같이 `// 이것은 주석입니다`와 같이 한 줄로 주석을 달거나, 다음과 같이 전체 주석 블록을 만들 수 있습니다: 
```cs
/*
 * 이것은 주석 블록입니다
 * 여러 줄에 걸쳐 있습니다!
*/
```
초보자의 경우 이미 잘 이해하고 있다고 생각되는 내용이라도 가능한 한 많은 주석을 추가하는 것이 좋습니다. 이렇게 하면 장기적으로 도움이 될 것입니다. 몇 달 후에 코딩을 다시 할 때 어떻게 작동하는지 잊어버릴 수도 있습니다. 숙련된 모더라면 코멘트를 최대한 적게 사용해서 다른 사람이 보기만 해도 코드가 어떻게 동작하는지 알 수 있도록 하는 것이 과제입니다. 많은 언어가 주석에 `::` 및 `#`과 같은 다른 표기법을 사용하지만, C#의 경우 위에 표시된 것을 사용하세요.

# 모드 게시하기
모드가 작동 상태가 되면 Steam 창작마당에 모드를 게시할 수 있습니다. 이렇게 하면 모든 tModLoader 사용자가 모드를 구독할 수 있습니다. 이에 대한 자세한 내용은 [창작마당 가이드](Workshop-kokr)를 참조하세요.